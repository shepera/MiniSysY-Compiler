# Lab1

林璐霞 18377149

- 简要介绍，你在完成这个 lab 中的各个 part 时都做了哪些工作，为什么要用（你采用的）这种方法完成。
- 实验指导中每个 part 中留下的思考题的回答。（鼓励但不强制，这不会成为评分依据）
- 如果你复用或者借鉴了参考代码或其他实现（关于借鉴与抄袭的界定请见诚信页），请明确写出你借鉴了哪些内容。



## Part3

### 实现

只修改了`ir-list-generator.rkt`：增加了对`Exp`, `AddExp`, `MulExp`, `UnaryExp`, `PrimaryExp`的初步实现。正负号实现在`UnaryExp`函数中，当遇到`+`时不作处理，当遇到`-`时，增加一句`%x = sub i32 0, %y`的语句，x的值由`counter`提供，该函数维护了一个计数器。y的值是目前已经得到的`%x = sub i32 0, %y`语句中的最后一句的`%x`。在完成Part4之后，把该部分归并到了Part4中。



## Part4

### 实现

基本就是在完善递归下降子程序。

* `parser.rkt`：增加了对`A->[B]`，`A->{B}`的语法的支持。补充了语法规则。目前应该已经实现了所有需要的范式（`A|B`，`AB`，`[A]`, `{B}`，由于使用了LISP的数据结构，`(AB)`是天生支持的）。

* `ir-list-generator.rkt`：完备了对 `AddExp`, `MulExp`的实现。这两条的语法规则形式完全一致，因此使用了一个统一的函数处理。以 `AddExp`为例，形式为`AddExp -> MulExp { ('+' | '-') MulExp }`，就先处理第一个`MulExp`。然后依次处理每一对` ('+' | '-') MulExp `，直到列表为空。

  
